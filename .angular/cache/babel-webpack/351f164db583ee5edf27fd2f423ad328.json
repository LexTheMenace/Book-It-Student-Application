{"ast":null,"code":"import { AlerplaceholderDirective } from '../shared/alerplaceholder.directive';\nimport { AlertComponent } from '../shared/alert/alert.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./bookshelf.service\";\nimport * as i2 from \"../shared/alerplaceholder.directive\";\nimport * as i3 from \"./book-list/book-list.component\";\nimport * as i4 from \"@angular/router\";\n\nfunction BookshelfComponent_ng_template_0_Template(rf, ctx) {}\n\nexport let BookshelfComponent = /*#__PURE__*/(() => {\n  class BookshelfComponent {\n    constructor(bookshelfService) {\n      this.bookshelfService = bookshelfService;\n    }\n\n    ngOnDestroy() {\n      this.sub.unsubscribe();\n    }\n\n    ngOnInit() {\n      this.sub = this.bookshelfService.bookSelected.subscribe(book => {\n        let viewContainerRef = this.alertHost.viewContainerRef;\n        let componentRef = viewContainerRef.createComponent(AlertComponent);\n        componentRef.instance.message = ' You removed ' + book.title + ' by ' + book.author;\n        setTimeout(() => {\n          viewContainerRef.clear();\n        }, 2000);\n      });\n    }\n\n  }\n\n  BookshelfComponent.ɵfac = function BookshelfComponent_Factory(t) {\n    return new (t || BookshelfComponent)(i0.ɵɵdirectiveInject(i1.BookshelfService));\n  };\n\n  BookshelfComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BookshelfComponent,\n    selectors: [[\"app-bookshelf\"]],\n    viewQuery: function BookshelfComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(AlerplaceholderDirective, 7);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.alertHost = _t.first);\n      }\n    },\n    decls: 6,\n    vars: 0,\n    consts: [[\"appAlerplaceholder\", \"\"], [1, \"row\"], [1, \"col-md-6\"]],\n    template: function BookshelfComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, BookshelfComponent_ng_template_0_Template, 0, 0, \"ng-template\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelement(3, \"app-book-list\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 2);\n        i0.ɵɵelement(5, \"router-outlet\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n    },\n    directives: [i2.AlerplaceholderDirective, i3.BookListComponent, i4.RouterOutlet],\n    styles: [\"\"]\n  });\n  return BookshelfComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}